<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å»ºè¨­è³‡ææµé€šç®¡ç†ã‚·ã‚¹ãƒ†ãƒ </title>
    <meta name="description" content="FAXæ³¨æ–‡ã®è‡ªå‹•åŒ–ã‹ã‚‰é…é€æœ€é©åŒ–ã¾ã§ - å»ºè¨­è³‡ææµé€šæ¥­å‹™ã®åŒ…æ‹¬çš„ãªãƒ‡ã‚¸ã‚¿ãƒ«å¤‰é©ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: "ãƒ¡ã‚¤ãƒªã‚ª", Meiryo, "ãƒ’ãƒ©ã‚®ãƒè§’ã‚´ Pro W3", "Hiragino Kaku Gothic Pro", sans-serif;
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        
        .header {
            background: #2c3e50;
            color: white;
            padding: 15px 20px;
            border-bottom: 3px solid #34495e;
        }
        
        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .header h1 {
            font-size: 1.5em;
            font-weight: normal;
        }
        
        .user-info {
            font-size: 0.9em;
            color: #bdc3c7;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .nav-tabs {
            background: white;
            border: 1px solid #ddd;
            border-bottom: none;
            display: flex;
            margin-bottom: 0;
        }
        
        .nav-tab {
            padding: 12px 24px;
            background: #f8f9fa;
            border-right: 1px solid #ddd;
            cursor: pointer;
            color: #495057;
            transition: background-color 0.2s;
        }
        
        .nav-tab:hover {
            background: #e9ecef;
        }
        
        .nav-tab.active {
            background: white;
            color: #333;
            border-bottom: 2px solid #007bff;
        }
        
        .tab-content {
            background: white;
            border: 1px solid #ddd;
            padding: 0;
            min-height: 600px;
        }
        
        .tab-panel {
            display: none;
            padding: 20px;
        }
        
        .tab-panel.active {
            display: block;
        }
        
        .form-section {
            background: white;
            border: 1px solid #ddd;
            margin-bottom: 20px;
        }
        
        .form-section-header {
            background: #f8f9fa;
            padding: 10px 15px;
            border-bottom: 1px solid #ddd;
            font-weight: bold;
            color: #495057;
        }
        
        .form-section-body {
            padding: 15px;
        }
        
        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
            align-items: end;
        }
        
        .form-group {
            flex: 1;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #495057;
            font-size: 0.9em;
        }
        
        .form-control {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ced4da;
            border-radius: 3px;
            font-size: 0.9em;
            background: white;
        }
        
        .form-control:focus {
            outline: none;
            border-color: #007bff;
            box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
        }
        
        .btn {
            padding: 8px 16px;
            border: 1px solid #ced4da;
            border-radius: 3px;
            cursor: pointer;
            font-size: 0.9em;
            text-decoration: none;
            display: inline-block;
            text-align: center;
            transition: all 0.2s;
            background: white;
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .btn-primary {
            background: #007bff;
            color: white;
            border-color: #007bff;
        }
        
        .btn-primary:hover:not(:disabled) {
            background: #0056b3;
            border-color: #0056b3;
        }
        
        .btn-secondary {
            background: #6c757d;
            color: white;
            border-color: #6c757d;
        }
        
        .btn-success {
            background: #28a745;
            color: white;
            border-color: #28a745;
        }
        
        .btn-warning {
            background: #ffc107;
            color: #212529;
            border-color: #ffc107;
        }
        
        .file-upload-area {
            border: 2px dashed #ced4da;
            padding: 40px;
            text-align: center;
            background: #f8f9fa;
            cursor: pointer;
            transition: border-color 0.2s;
        }
        
        .file-upload-area:hover {
            border-color: #007bff;
        }
        
        .file-upload-area.dragover {
            border-color: #007bff;
            background: #e7f3ff;
        }
        
        .upload-icon {
            font-size: 2em;
            color: #6c757d;
            margin-bottom: 10px;
        }
        
        .table-container {
            border: 1px solid #ddd;
            margin-top: 20px;
            overflow-x: auto;
        }
        
        .table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9em;
            min-width: 800px;
        }
        
        .table th {
            background: #f8f9fa;
            padding: 10px 8px;
            text-align: left;
            border-bottom: 2px solid #dee2e6;
            font-weight: bold;
            color: #495057;
        }
        
        .table td {
            padding: 10px 8px;
            border-bottom: 1px solid #dee2e6;
        }
        
        .table tr:hover {
            background: #f8f9fa;
        }
        
        .status-badge {
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 0.8em;
            font-weight: bold;
        }
        
        .status-available {
            background: #d4edda;
            color: #155724;
        }
        
        .status-ordered {
            background: #fff3cd;
            color: #856404;
        }
        
        .status-shortage {
            background: #f8d7da;
            color: #721c24;
        }
        
        .status-processing {
            background: #d1ecf1;
            color: #0c5460;
        }
        
        .processing-log {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 15px;
            font-family: monospace;
            font-size: 0.8em;
            height: 200px;
            overflow-y: auto;
            margin-top: 15px;
        }
        
        .log-entry {
            margin-bottom: 5px;
        }
        
        .log-timestamp {
            color: #6c757d;
            margin-right: 10px;
        }
        
        .log-success {
            color: #28a745;
        }
        
        .log-warning {
            color: #ffc107;
        }
        
        .log-error {
            color: #dc3545;
        }
        
        .confidence-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 10px 0;
        }
        
        .confidence-bar {
            flex: 1;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .confidence-fill {
            height: 100%;
            transition: width 0.5s ease;
        }
        
        .confidence-high { background: #28a745; }
        .confidence-medium { background: #ffc107; }
        .confidence-low { background: #dc3545; }
        
        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .summary-card {
            background: white;
            border: 1px solid #ddd;
            padding: 15px;
            text-align: center;
        }
        
        .summary-card h4 {
            color: #6c757d;
            font-size: 0.9em;
            margin-bottom: 5px;
            font-weight: normal;
        }
        
        .summary-card .number {
            font-size: 1.5em;
            font-weight: bold;
            color: #495057;
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
            padding: 15px;
            background: #f8f9fa;
            border-top: 1px solid #ddd;
            margin-top: 20px;
        }
        
        .edit-mode {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 10px;
            margin-bottom: 15px;
            border-radius: 3px;
        }
        
        .notification {
            padding: 12px 15px;
            margin-bottom: 15px;
            border-radius: 3px;
            display: none;
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            max-width: 400px;
        }
        
        .notification.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .notification.warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        
        .notification.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .supplier-info {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 10px;
            margin-top: 10px;
            font-size: 0.85em;
        }
        
        .integration-status {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        
        .status-connected {
            background: #28a745;
        }
        
        .status-disconnected {
            background: #dc3545;
        }
        
        .status-warning {
            background: #ffc107;
        }
        
        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #007bff;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .error-message {
            background: #f8d7da;
            color: #721c24;
            padding: 10px;
            border-radius: 3px;
            margin: 10px 0;
            border: 1px solid #f5c6cb;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .form-row {
                flex-direction: column;
                gap: 10px;
            }
            
            .nav-tabs {
                flex-wrap: wrap;
            }
            
            .nav-tab {
                flex: 1;
                min-width: 120px;
            }
            
            .action-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <h1>å»ºè¨­è³‡ææµé€šç®¡ç†ã‚·ã‚¹ãƒ†ãƒ </h1>
            <div class="user-info">
                ãƒ­ã‚°ã‚¤ãƒ³: ç”°ä¸­å¤ªéƒ | æ¨©é™: ç®¡ç†è€… | æœ€çµ‚æ›´æ–°: <span id="lastUpdate">2025/06/01 14:30</span>
            </div>
        </div>
    </div>
    
    <div class="container">
        <div class="nav-tabs">
            <div class="nav-tab active" onclick="switchTab('fax-processing')">FAXæ³¨æ–‡å‡¦ç†</div>
            <div class="nav-tab" onclick="switchTab('order-management')">æ³¨æ–‡ç®¡ç†</div>
            <div class="nav-tab" onclick="switchTab('inventory-check')">åœ¨åº«ç…§ä¼š</div>
            <div class="nav-tab" onclick="switchTab('supplier-orders')">ä»•å…¥å…ˆç™ºæ³¨</div>
            <div class="nav-tab" onclick="switchTab('system-status')">ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ³</div>
        </div>
        
        <div class="tab-content">
            <!-- FAXæ³¨æ–‡å‡¦ç†ã‚¿ãƒ– -->
            <div class="tab-panel active" id="fax-processing">
                <div class="form-section">
                    <div class="form-section-header">
                        FAXæ³¨æ–‡æ›¸ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ»OCRå‡¦ç†
                    </div>
                    <div class="form-section-body">
                        <div class="file-upload-area" id="fileUploadArea" onclick="handleUploadClick()">
                            <input type="file" id="faxFile" accept="image/*,.pdf" style="display: none;" onchange="handleFileUpload(event)">
                            <div class="upload-icon">ğŸ“„</div>
                            <p><strong>FAXæ³¨æ–‡æ›¸ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„</strong></p>
                            <p>å¯¾å¿œå½¢å¼: JPG, PNG, PDFï¼ˆæœ€å¤§10MBï¼‰</p>
                            <p style="font-size: 0.8em; color: #6c757d; margin-top: 10px;">
                                â€»æœ¬ãƒ‡ãƒ¢ç‰ˆã§ã¯æ¨¡æ“¬å‡¦ç†ã‚’å®Ÿè¡Œã—ã¾ã™
                            </p>
                        </div>
                        
                        <div class="processing-log" id="processingLog" style="display: none;">
                            <div id="logContent"></div>
                        </div>
                        
                        <div class="confidence-indicator" id="confidenceIndicator" style="display: none;">
                            <span>OCRèªè­˜ç²¾åº¦:</span>
                            <div class="confidence-bar">
                                <div class="confidence-fill" id="confidenceFill"></div>
                            </div>
                            <span id="confidenceText">0%</span>
                        </div>
                    </div>
                </div>
                
                <div class="form-section" id="orderDetailsSection" style="display: none;">
                    <div class="form-section-header">
                        æ³¨æ–‡è©³ç´°æƒ…å ±
                        <span style="float: right; font-weight: normal; color: #007bff; cursor: pointer;" onclick="toggleEditMode()">âœï¸ ç·¨é›†ãƒ¢ãƒ¼ãƒ‰</span>
                    </div>
                    <div class="form-section-body">
                        <div class="edit-mode" id="editModeNotice" style="display: none;">
                            ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ãŒæœ‰åŠ¹ã§ã™ã€‚é …ç›®ã‚’ç›´æ¥ç·¨é›†ã§ãã¾ã™ã€‚
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label>æ³¨æ–‡ç•ªå·</label>
                                <input type="text" class="form-control" id="orderNumber" readonly>
                            </div>
                            <div class="form-group">
                                <label>æ³¨æ–‡æ—¥</label>
                                <input type="date" class="form-control" id="orderDate" readonly>
                            </div>
                            <div class="form-group">
                                <label>é¡§å®¢å</label>
                                <input type="text" class="form-control" id="customerName" readonly>
                            </div>
                            <div class="form-group">
                                <label>é…é€å¸Œæœ›æ—¥</label>
                                <input type="date" class="form-control" id="deliveryDate" readonly>
                            </div>
                        </div>
                        
                        <div class="table-container">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th width="12%">å•†å“ã‚³ãƒ¼ãƒ‰</th>
                                        <th width="25%">å•†å“å</th>
                                        <th width="8%">æ•°é‡</th>
                                        <th width="10%">å˜ä¾¡</th>
                                        <th width="10%">é‡‘é¡</th>
                                        <th width="10%">åœ¨åº«çŠ¶æ³</th>
                                        <th width="10%">ç™ºæ³¨çŠ¶æ³</th>
                                        <th width="10%">ä»•å…¥å…ˆ</th>
                                        <th width="5%">æ“ä½œ</th>
                                    </tr>
                                </thead>
                                <tbody id="orderItemsTable">
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="summary-cards">
                            <div class="summary-card">
                                <h4>åˆè¨ˆå“ç›®æ•°</h4>
                                <div class="number" id="totalItems">0</div>
                            </div>
                            <div class="summary-card">
                                <h4>åˆè¨ˆé‡‘é¡</h4>
                                <div class="number" id="totalAmount">Â¥0</div>
                            </div>
                            <div class="summary-card">
                                <h4>åœ¨åº«å……è¶³ç‡</h4>
                                <div class="number" id="stockRate">0%</div>
                            </div>
                            <div class="summary-card">
                                <h4>è¦ç™ºæ³¨å“ç›®</h4>
                                <div class="number" id="orderRequired">0</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn btn-secondary" onclick="cancelOrder()">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
                        <button class="btn btn-warning" onclick="saveAsDraft()">ä¸‹æ›¸ãä¿å­˜</button>
                        <button class="btn btn-success" onclick="processOrder()">æ³¨æ–‡å‡¦ç†å®Ÿè¡Œ</button>
                    </div>
                </div>
            </div>
            
            <!-- æ³¨æ–‡ç®¡ç†ã‚¿ãƒ– -->
            <div class="tab-panel" id="order-management">
                <div class="form-section">
                    <div class="form-section-header">æ³¨æ–‡ä¸€è¦§</div>
                    <div class="form-section-body">
                        <div class="form-row">
                            <div class="form-group">
                                <label>æ³¨æ–‡æ—¥ï¼ˆé–‹å§‹ï¼‰</label>
                                <input type="date" class="form-control" id="searchDateFrom">
                            </div>
                            <div class="form-group">
                                <label>æ³¨æ–‡æ—¥ï¼ˆçµ‚äº†ï¼‰</label>
                                <input type="date" class="form-control" id="searchDateTo">
                            </div>
                            <div class="form-group">
                                <label>é¡§å®¢å</label>
                                <input type="text" class="form-control" id="searchCustomer" placeholder="éƒ¨åˆ†ä¸€è‡´æ¤œç´¢">
                            </div>
                            <div class="form-group">
                                <label>å‡¦ç†çŠ¶æ³</label>
                                <select class="form-control" id="searchStatus">
                                    <option value="">å…¨ã¦</option>
                                    <option value="processing">å‡¦ç†ä¸­</option>
                                    <option value="completed">å®Œäº†</option>
                                    <option value="shipped">å‡ºè·æ¸ˆ</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <button class="btn btn-primary" onclick="searchOrders()">æ¤œç´¢</button>
                            </div>
                        </div>
                        
                        <div class="table-container">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>æ³¨æ–‡ç•ªå·</th>
                                        <th>æ³¨æ–‡æ—¥</th>
                                        <th>é¡§å®¢å</th>
                                        <th>å“ç›®æ•°</th>
                                        <th>åˆè¨ˆé‡‘é¡</th>
                                        <th>å‡¦ç†çŠ¶æ³</th>
                                        <th>é…é€äºˆå®š</th>
                                        <th>æ“ä½œ</th>
                                    </tr>
                                </thead>
                                <tbody id="orderListTable">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- åœ¨åº«ç…§ä¼šã‚¿ãƒ– -->
            <div class="tab-panel" id="inventory-check">
                <div class="form-section">
                    <div class="form-section-header">åœ¨åº«æ¤œç´¢</div>
                    <div class="form-section-body">
                        <div class="form-row">
                            <div class="form-group">
                                <label>å•†å“ã‚³ãƒ¼ãƒ‰</label>
                                <input type="text" class="form-control" id="searchProductCode" placeholder="éƒ¨åˆ†ä¸€è‡´æ¤œç´¢">
                            </div>
                            <div class="form-group">
                                <label>å•†å“å</label>
                                <input type="text" class="form-control" id="searchProductName" placeholder="éƒ¨åˆ†ä¸€è‡´æ¤œç´¢">
                            </div>
                            <div class="form-group">
                                <label>åœ¨åº«çŠ¶æ³</label>
                                <select class="form-control" id="searchStockStatus">
                                    <option value="">å…¨ã¦</option>
                                    <option value="available">åœ¨åº«ã‚ã‚Š</option>
                                    <option value="low">åœ¨åº«å°‘</option>
                                    <option value="out">åœ¨åº«åˆ‡ã‚Œ</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <button class="btn btn-primary" onclick="searchInventory()">æ¤œç´¢</button>
                            </div>
                        </div>
                        
                        <div class="table-container">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>å•†å“ã‚³ãƒ¼ãƒ‰</th>
                                        <th>å•†å“å</th>
                                        <th>ç¾åœ¨åº«æ•°</th>
                                        <th>å®‰å…¨åœ¨åº«</th>
                                        <th>å˜ä¾¡</th>
                                        <th>ä¸»è¦ä»•å…¥å…ˆ</th>
                                        <th>æœ€çµ‚å…¥è·æ—¥</th>
                                        <th>çŠ¶æ³</th>
                                    </tr>
                                </thead>
                                <tbody id="inventoryTable">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ä»•å…¥å…ˆç™ºæ³¨ã‚¿ãƒ– -->
            <div class="tab-panel" id="supplier-orders">
                <div class="form-section">
                    <div class="form-section-header">è‡ªå‹•ç™ºæ³¨çŠ¶æ³</div>
                    <div class="form-section-body">
                        <div class="integration-status">
                            <div class="status-indicator status-connected"></div>
                            <span>åŸºå¹¹ã‚·ã‚¹ãƒ†ãƒ é€£æº: æ­£å¸¸</span>
                        </div>
                        <div class="integration-status">
                            <div class="status-indicator status-connected"></div>
                            <span>ä»•å…¥å…ˆEDIé€£æº: æ­£å¸¸ (ãƒ‡ãƒ¢)</span>
                        </div>
                        <div class="integration-status">
                            <div class="status-indicator status-warning"></div>
                            <span>ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã‚µãƒ¼ãƒ“ã‚¹: ä¸€éƒ¨é…å»¶</span>
                        </div>
                        
                        <div class="table-container">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>ç™ºæ³¨ç•ªå·</th>
                                        <th>ç™ºæ³¨æ—¥æ™‚</th>
                                        <th>ä»•å…¥å…ˆ</th>
                                        <th>å•†å“ã‚³ãƒ¼ãƒ‰</th>
                                        <th>å•†å“å</th>
                                        <th>ç™ºæ³¨æ•°é‡</th>
                                        <th>ç´æœŸå›ç­”</th>
                                        <th>çŠ¶æ³</th>
                                        <th>æ“ä½œ</th>
                                    </tr>
                                </thead>
                                <tbody id="supplierOrdersTable">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ³ã‚¿ãƒ– -->
            <div class="tab-panel" id="system-status">
                <div class="summary-cards">
                    <div class="summary-card">
                        <h4>æœ¬æ—¥å‡¦ç†ä»¶æ•°</h4>
                        <div class="number" id="todayProcessed">247</div>
                    </div>
                    <div class="summary-card">
                        <h4>å¹³å‡å‡¦ç†æ™‚é–“</h4>
                        <div class="number" id="avgProcessTime">2.3åˆ†</div>
                    </div>
                    <div class="summary-card">
                        <h4>OCRèªè­˜ç²¾åº¦</h4>
                        <div class="number" id="ocrAccuracy">94.8%</div>
                    </div>
                    <div class="summary-card">
                        <h4>è‡ªå‹•ç™ºæ³¨æˆåŠŸç‡</h4>
                        <div class="number" id="autoOrderSuccess">98.2%</div>
                    </div>
                </div>
                
                <div class="form-section">
                    <div class="form-section-header">ã‚·ã‚¹ãƒ†ãƒ ãƒ­ã‚°</div>
                    <div class="form-section-body">
                        <div class="processing-log" style="height: 300px; display: block;" id="systemLog">
                            <div class="log-entry">
                                <span class="log-timestamp">[2025/06/01 14:30:15]</span>
                                <span class="log-success">[INFO]</span> FAXæ³¨æ–‡æ›¸å‡¦ç†å®Œäº† (æ³¨æ–‡ç•ªå·: ORD-20250601-001)
                            </div>
                            <div class="log-entry">
                                <span class="log-timestamp">[2025/06/01 14:28:42]</span>
                                <span class="log-success">[INFO]</span> è‡ªå‹•ç™ºæ³¨é€ä¿¡å®Œäº† (ç™ºæ³¨ç•ªå·: PO-20250601-089)
                            </div>
                            <div class="log-entry">
                                <span class="log-timestamp">[2025/06/01 14:25:33]</span>
                                <span class="log-warning">[WARN]</span> OCRèªè­˜ç²¾åº¦ä½ä¸‹ (82.3% < 85%) - æ‰‹å‹•ç¢ºèªæ¨å¥¨
                            </div>
                            <div class="log-entry">
                                <span class="log-timestamp">[2025/06/01 14:22:11]</span>
                                <span class="log-success">[INFO]</span> åœ¨åº«æ›´æ–°å®Œäº† (å•†å“: 20ä»¶)
                            </div>
                            <div class="log-entry">
                                <span class="log-timestamp">[2025/06/01 14:20:45]</span>
                                <span class="log-success">[INFO]</span> åŸºå¹¹ã‚·ã‚¹ãƒ†ãƒ é€£æºç¢ºèªå®Œäº†
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="form-section">
                    <div class="form-section-header">ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±</div>
                    <div class="form-section-body">
                        <p><strong>ãƒãƒ¼ã‚¸ãƒ§ãƒ³:</strong> 1.0.0 (ãƒ•ã‚§ãƒ¼ã‚º1)</p>
                        <p><strong>ç’°å¢ƒ:</strong> Production (Vercel)</p>
                        <p><strong>æœ€çµ‚ãƒ‡ãƒ—ãƒ­ã‚¤:</strong> <span id="deployTime">2025/06/01 10:00:00</span></p>
                        <p><strong>ç¨¼åƒæ™‚é–“:</strong> <span id="uptime">99.8%</span></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="notification" id="notification"></div>
    
    <script>
        // ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°
        let currentOrder = null;
        let editMode = false;
        let processingInterval = null;
        
        // ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
        window.addEventListener('error', function(e) {
            console.error('JavaScript Error:', e.error);
            showNotification('ã‚·ã‚¹ãƒ†ãƒ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ãƒšãƒ¼ã‚¸ã‚’å†èª­ã¿è¾¼ã¿ã—ã¦ãã ã•ã„ã€‚', 'error');
        });
        
        // ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿
        const sampleOrderItems = [
            {
                code: "C-2024-001",
                name: "ã‚³ãƒ³ã‚¯ãƒªãƒ¼ãƒˆãƒ–ãƒ­ãƒƒã‚¯ 200Ã—200Ã—400",
                quantity: 150,
                price: 280,
                stock: "åœ¨åº«ã‚ã‚Š",
                orderStatus: "å‡¦ç†å®Œäº†",
                supplier: "æ±äº¬å»ºæ(æ ª)"
            },
            {
                code: "R-2024-045",
                name: "é‰„ç­‹ D16 6m",
                quantity: 80,
                price: 1200,
                stock: "è¦ç™ºæ³¨",
                orderStatus: "ç™ºæ³¨ä¸­",
                supplier: "é‹¼æå•†äº‹(æ ª)"
            },
            {
                code: "S-2024-128",
                name: "æ§‹é€ ç”¨åˆæ¿ 12mm 3Ã—6ç‰ˆ",
                quantity: 25,
                price: 3500,
                stock: "åœ¨åº«ã‚ã‚Š",
                orderStatus: "å‡¦ç†å®Œäº†",
                supplier: "æœ¨æã‚»ãƒ³ã‚¿ãƒ¼"
            }
        ];
        
        const sampleOrders = [
            {
                orderNumber: "ORD-20250601-001",
                orderDate: "2025-06-01",
                customer: "ç”°ä¸­å»ºè¨­æ ªå¼ä¼šç¤¾",
                itemCount: 3,
                totalAmount: 245000,
                status: "å‡¦ç†ä¸­",
                deliveryDate: "2025-06-03"
            },
            {
                orderNumber: "ORD-20250601-002",
                orderDate: "2025-06-01",
                customer: "å±±ç”°å·¥æ¥­æ ªå¼ä¼šç¤¾",
                itemCount: 5,
                totalAmount: 180000,
                status: "å®Œäº†",
                deliveryDate: "2025-06-02"
            }
        ];
        
        const sampleInventory = [
            {
                code: "C-2024-001",
                name: "ã‚³ãƒ³ã‚¯ãƒªãƒ¼ãƒˆãƒ–ãƒ­ãƒƒã‚¯ 200Ã—200Ã—400",
                currentStock: 1250,
                safetyStock: 500,
                price: 280,
                supplier: "æ±äº¬å»ºæ(æ ª)",
                lastReceived: "2025-05-28",
                status: "åœ¨åº«ã‚ã‚Š"
            },
            {
                code: "R-2024-045",
                name: "é‰„ç­‹ D16 6m",
                currentStock: 45,
                safetyStock: 100,
                price: 1200,
                supplier: "é‹¼æå•†äº‹(æ ª)",
                lastReceived: "2025-05-25",
                status: "åœ¨åº«å°‘"
            }
        ];
        
        const sampleSupplierOrders = [
            {
                orderNumber: "PO-20250601-089",
                orderDate: "2025-06-01 14:28:42",
                supplier: "é‹¼æå•†äº‹(æ ª)",
                productCode: "R-2024-045",
                productName: "é‰„ç­‹ D16 6m",
                quantity: 200,
                deliveryDate: "2025-06-03",
                status: "ç™ºæ³¨æ¸ˆ"
            }
        ];
        
        // ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
        function switchTab(tabId) {
            try {
                document.querySelectorAll('.nav-tab').forEach(tab => tab.classList.remove('active'));
                document.querySelectorAll('.tab-panel').forEach(panel => panel.classList.remove('active'));
                
                event.target.classList.add('active');
                document.getElementById(tabId).classList.add('active');
                
                // ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆæ™‚ã®ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿
                switch(tabId) {
                    case 'order-management':
                        loadOrderList();
                        break;
                    case 'inventory-check':
                        loadInventoryList();
                        break;
                    case 'supplier-orders':
                        loadSupplierOrders();
                        break;
                }
            } catch (error) {
                console.error('Tab switch error:', error);
                showNotification('ã‚¿ãƒ–ã®åˆ‡ã‚Šæ›¿ãˆã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ', 'error');
            }
        }
        
        // ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å‡¦ç†
        function handleUploadClick() {
            document.getElementById('faxFile').click();
        }
        
        function handleFileUpload(event) {
            try {
                const file = event.target.files[0];
                if (!file) return;
                
                // ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãƒã‚§ãƒƒã‚¯ (10MB)
                if (file.size > 10 * 1024 * 1024) {
                    showNotification('ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒ10MBã‚’è¶…ãˆã¦ã„ã¾ã™', 'error');
                    return;
                }
                
                // ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ãƒã‚§ãƒƒã‚¯
                const allowedTypes = ['image/jpeg', 'image/png', 'application/pdf'];
                if (!allowedTypes.includes(file.type)) {
                    showNotification('å¯¾å¿œã—ã¦ã„ãªã„ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã§ã™', 'error');
                    return;
                }
                
                showNotification('FAXæ³¨æ–‡æ›¸ã®å‡¦ç†ã‚’é–‹å§‹ã—ã¾ã™...', 'success');
                
                // ãƒ­ã‚°è¡¨ç¤ºé–‹å§‹
                document.getElementById('processingLog').style.display = 'block';
                startProcessingLog();
                
                // 5ç§’å¾Œã«å‡¦ç†å®Œäº†ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
                setTimeout(() => {
                    completeProcessing();
                }, 5000);
            } catch (error) {
                console.error('File upload error:', error);
                showNotification('ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ', 'error');
            }
        }
        
        // å‡¦ç†ãƒ­ã‚°è¡¨ç¤º
        function startProcessingLog() {
            try {
                const logContent = document.getElementById('logContent');
                logContent.innerHTML = '';
                
                const steps = [
                    { time: 500, message: '[INFO] ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å®Œäº†', level: 'success' },
                    { time: 1000, message: '[INFO] ç”»åƒå‰å‡¦ç†é–‹å§‹ï¼ˆãƒã‚¤ã‚ºé™¤å»ã€å‚¾ãè£œæ­£ï¼‰', level: 'success' },
                    { time: 1500, message: '[INFO] OCRå‡¦ç†é–‹å§‹ï¼ˆGoogle Vision APIï¼‰', level: 'success' },
                    { time: 2500, message: '[INFO] æ–‡å­—èªè­˜å®Œäº†ï¼ˆèªè­˜ç²¾åº¦: 94.8%ï¼‰', level: 'success' },
                    { time: 3000, message: '[INFO] AIæ§‹é€ åŒ–å‡¦ç†é–‹å§‹', level: 'success' },
                    { time: 3500, message: '[INFO] æ³¨æ–‡æƒ…å ±æŠ½å‡ºå®Œäº†', level: 'success' },
                    { time: 4000, message: '[INFO] åœ¨åº«ã‚·ã‚¹ãƒ†ãƒ ç…§åˆé–‹å§‹', level: 'success' },
                    { time: 4500, message: '[WARN] å•†å“R-2024-045ã®åœ¨åº«ä¸è¶³ã‚’æ¤œå‡º', level: 'warning' },
                    { time: 4800, message: '[INFO] è‡ªå‹•ç™ºæ³¨å‡¦ç†é–‹å§‹', level: 'success' },
                    { time: 5000, message: '[INFO] å‡¦ç†å®Œäº†', level: 'success' }
                ];
                
                steps.forEach(step => {
                    setTimeout(() => {
                        const logEntry = document.createElement('div');
                        logEntry.className = 'log-entry';
                        logEntry.innerHTML = `
                            <span class="log-timestamp">[${new Date().toLocaleTimeString()}]</span>
                            <span class="log-${step.level}">[${step.level.toUpperCase()}]</span>
                            ${step.message}
                        `;
                        logContent.appendChild(logEntry);
                        logContent.scrollTop = logContent.scrollHeight;
                    }, step.time);
                });
            } catch (error) {
                console.error('Processing log error:', error);
            }
        }
        
        // å‡¦ç†å®Œäº†
        function completeProcessing() {
            try {
                // èªè­˜ç²¾åº¦è¡¨ç¤º
                document.getElementById('confidenceIndicator').style.display = 'flex';
                updateConfidence(94.8);
                
                // æ³¨æ–‡è©³ç´°è¡¨ç¤º
                document.getElementById('orderDetailsSection').style.display = 'block';
                loadOrderDetails();
                
                showNotification('FAXæ³¨æ–‡æ›¸ã®å‡¦ç†ãŒå®Œäº†ã—ã¾ã—ãŸã€‚å†…å®¹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚', 'success');
            } catch (error) {
                console.error('Processing completion error:', error);
                showNotification('å‡¦ç†å®Œäº†æ™‚ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ', 'error');
            }
        }
        
        // èªè­˜ç²¾åº¦æ›´æ–°
        function updateConfidence(percentage) {
            try {
                const fill = document.getElementById('confidenceFill');
                const text = document.getElementById('confidenceText');
                
                fill.style.width = percentage + '%';
                text.textContent = percentage + '%';
                
                if (percentage >= 90) {
                    fill.className = 'confidence-fill confidence-high';
                } else if (percentage >= 75) {
                    fill.className = 'confidence-fill confidence-medium';
                } else {
                    fill.className = 'confidence-fill confidence-low';
                }
            } catch (error) {
                console.error('Confidence update error:', error);
            }
        }
        
        // æ³¨æ–‡è©³ç´°èª­ã¿è¾¼ã¿
        function loadOrderDetails() {
            try {
                // åŸºæœ¬æƒ…å ±è¨­å®š
                document.getElementById('orderNumber').value = 'ORD-20250601-003';
                document.getElementById('orderDate').value = '2025-06-01';
                document.getElementById('customerName').value = 'éˆ´æœ¨å»ºè¨­æ ªå¼ä¼šç¤¾';
                document.getElementById('deliveryDate').value = '2025-06-03';
                
                // å•†å“ãƒ†ãƒ¼ãƒ–ãƒ«æ›´æ–°
                const tbody = document.getElementById('orderItemsTable');
                tbody.innerHTML = '';
                
                let totalAmount = 0;
                let totalItems = 0;
                let stockItems = 0;
                let orderRequired = 0;
                
                sampleOrderItems.forEach((item, index) => {
                    const amount = item.quantity * item.price;
                    totalAmount += amount;
                    totalItems++;
                    
                    if (item.stock === 'åœ¨åº«ã‚ã‚Š') {
                        stockItems++;
                    } else {
                        orderRequired++;
                    }
                    
                    const row = tbody.insertRow();
                    row.innerHTML = `
                        <td><input type="text" class="form-control" value="${item.code}" ${editMode ? '' : 'readonly'}></td>
                        <td><input type="text" class="form-control" value="${item.name}" ${editMode ? '' : 'readonly'}></td>
                        <td><input type="number" class="form-control" value="${item.quantity}" ${editMode ? '' : 'readonly'}></td>
                        <td>Â¥${item.price.toLocaleString()}</td>
                        <td>Â¥${amount.toLocaleString()}</td>
                        <td><span class="status-badge ${item.stock === 'åœ¨åº«ã‚ã‚Š' ? 'status-available' : 'status-shortage'}">${item.stock}</span></td>
                        <td><span class="status-badge ${item.orderStatus === 'å‡¦ç†å®Œäº†' ? 'status-available' : 'status-ordered'}">${item.orderStatus}</span></td>
                        <td>${item.supplier}</td>
                        <td><button class="btn btn-secondary" onclick="removeItem(${index})">å‰Šé™¤</button></td>
                    `;
                });
                
                // ã‚µãƒãƒªãƒ¼æ›´æ–°
                document.getElementById('totalItems').textContent = totalItems;
                document.getElementById('totalAmount').textContent = 'Â¥' + totalAmount.toLocaleString();
                document.getElementById('stockRate').textContent = Math.round((stockItems / totalItems) * 100) + '%';
                document.getElementById('orderRequired').textContent = orderRequired;
            } catch (error) {
                console.error('Order details loading error:', error);
                showNotification('æ³¨æ–‡è©³ç´°ã®èª­ã¿è¾¼ã¿ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ', 'error');
            }
        }
        
        // ç·¨é›†ãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆ
        function toggleEditMode() {
            try {
                editMode = !editMode;
                document.getElementById('editModeNotice').style.display = editMode ? 'block' : 'none';
                loadOrderDetails(); // å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®çŠ¶æ…‹ã‚’æ›´æ–°
                showNotification(editMode ? 'ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹ã«ã—ã¾ã—ãŸ' : 'ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã‚’ç„¡åŠ¹ã«ã—ã¾ã—ãŸ', 'success');
            } catch (error) {
                console.error('Edit mode toggle error:', error);
                showNotification('ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã®åˆ‡ã‚Šæ›¿ãˆã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ', 'error');
            }
        }
        
        // æ³¨æ–‡å‡¦ç†å®Ÿè¡Œ
        function processOrder() {
            try {
                if (confirm('ã“ã®æ³¨æ–‡ã‚’å‡¦ç†å®Ÿè¡Œã—ã¾ã™ã‹ï¼Ÿ\n\nãƒ»åœ¨åº«å¼•å½“\nãƒ»ä»•å…¥å…ˆã¸ã®è‡ªå‹•ç™ºæ³¨\nãƒ»é…é€æ‰‹é…\nãƒ»é¡§å®¢ã¸ã®ç¢ºèªé€£çµ¡')) {
                    showNotification('æ³¨æ–‡å‡¦ç†ã‚’é–‹å§‹ã—ã¾ã—ãŸã€‚åŸºå¹¹ã‚·ã‚¹ãƒ†ãƒ ã¸ã®ãƒ‡ãƒ¼ã‚¿é€£æºã‚’å®Ÿè¡Œä¸­...', 'success');
                    
                    // å‡¦ç†çŠ¶æ³ã®æ›´æ–°
                    setTimeout(() => {
                        showNotification('æ³¨æ–‡å‡¦ç†ãŒå®Œäº†ã—ã¾ã—ãŸã€‚', 'success');
                        // æ–°ã—ã„æ³¨æ–‡ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢
                        resetForm();
                    }, 2000);
                }
            } catch (error) {
                console.error('Order processing error:', error);
                showNotification('æ³¨æ–‡å‡¦ç†ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ', 'error');
            }
        }
        
        // ä¸‹æ›¸ãä¿å­˜
        function saveAsDraft() {
            try {
                showNotification('ä¸‹æ›¸ãã¨ã—ã¦ä¿å­˜ã—ã¾ã—ãŸã€‚', 'success');
            } catch (error) {
                console.error('Save draft error:', error);
                showNotification('ä¸‹æ›¸ãä¿å­˜ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ', 'error');
            }
        }
        
        // ã‚­ãƒ£ãƒ³ã‚»ãƒ«
        function cancelOrder() {
            try {
                if (confirm('å…¥åŠ›å†…å®¹ã‚’ç ´æ£„ã—ã¦ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ')) {
                    resetForm();
                }
            } catch (error) {
                console.error('Cancel order error:', error);
                showNotification('ã‚­ãƒ£ãƒ³ã‚»ãƒ«å‡¦ç†ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ', 'error');
            }
        }
        
        // ãƒ•ã‚©ãƒ¼ãƒ ãƒªã‚»ãƒƒãƒˆ
        function resetForm() {
            try {
                document.getElementById('orderDetailsSection').style.display = 'none';
                document.getElementById('processingLog').style.display = 'none';
                document.getElementById('confidenceIndicator').style.display = 'none';
                document.getElementById('faxFile').value = '';
                editMode = false;
                document.getElementById('editModeNotice').style.display = 'none';
            } catch (error) {
                console.error('Form reset error:', error);
            }
        }
        
        // æ³¨æ–‡ä¸€è¦§èª­ã¿è¾¼ã¿
        function loadOrderList() {
            try {
                const tbody = document.getElementById('orderListTable');
                tbody.innerHTML = '';
                
                sampleOrders.forEach(order => {
                    const row = tbody.insertRow();
                    row.innerHTML = `
                        <td>${order.orderNumber}</td>
                        <td>${order.orderDate}</td>
                        <td>${order.customer}</td>
                        <td>${order.itemCount}</td>
                        <td>Â¥${order.totalAmount.toLocaleString()}</td>
                        <td><span class="status-badge ${order.status === 'å®Œäº†' ? 'status-available' : 'status-processing'}">${order.status}</span></td>
                        <td>${order.deliveryDate}</td>
                        <td>
                            <button class="btn btn-secondary">è©³ç´°</button>
                            <button class="btn btn-primary">ç·¨é›†</button>
                        </td>
                    `;
                });
            } catch (error) {
                console.error('Order list loading error:', error);
                showNotification('æ³¨æ–‡ä¸€è¦§ã®èª­ã¿è¾¼ã¿ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ', 'error');
            }
        }
        
        // åœ¨åº«ä¸€è¦§èª­ã¿è¾¼ã¿
        function loadInventoryList() {
            try {
                const tbody = document.getElementById('inventoryTable');
                tbody.innerHTML = '';
                
                sampleInventory.forEach(item => {
                    const row = tbody.insertRow();
                    row.innerHTML = `
                        <td>${item.code}</td>
                        <td>${item.name}</td>
                        <td>${item.currentStock}</td>
                        <td>${item.safetyStock}</td>
                        <td>Â¥${item.price.toLocaleString()}</td>
                        <td>${item.supplier}</td>
                        <td>${item.lastReceived}</td>
                        <td><span class="status-badge ${item.status === 'åœ¨åº«ã‚ã‚Š' ? 'status-available' : 'status-shortage'}">${item.status}</span></td>
                    `;
                });
            } catch (error) {
                console.error('Inventory list loading error:', error);
                showNotification('åœ¨åº«ä¸€è¦§ã®èª­ã¿è¾¼ã¿ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ', 'error');
            }
        }
        
        // ä»•å…¥å…ˆç™ºæ³¨ä¸€è¦§èª­ã¿è¾¼ã¿
        function loadSupplierOrders() {
            try {
                const tbody = document.getElementById('supplierOrdersTable');
                tbody.innerHTML = '';
                
                sampleSupplierOrders.forEach(order => {
                    const row = tbody.insertRow();
                    row.innerHTML = `
                        <td>${order.orderNumber}</td>
                        <td>${order.orderDate}</td>
                        <td>${order.supplier}</td>
                        <td>${order.productCode}</td>
                        <td>${order.productName}</td>
                        <td>${order.quantity}</td>
                        <td>${order.deliveryDate}</td>
                        <td><span class="status-badge status-processing">${order.status}</span></td>
                        <td>
                            <button class="btn btn-secondary">è©³ç´°</button>
                            <button class="btn btn-warning">å‚¬ä¿ƒ</button>
                        </td>
                    `;
                });
            } catch (error) {
                console.error('Supplier orders loading error:', error);
                showNotification('ä»•å…¥å…ˆç™ºæ³¨ä¸€è¦§ã®èª­ã¿è¾¼ã¿ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ', 'error');
            }
        }
        
        // æ¤œç´¢æ©Ÿèƒ½
        function searchOrders() {
            try {
                showNotification('æ¤œç´¢ã‚’å®Ÿè¡Œã—ã¾ã—ãŸã€‚', 'success');
            } catch (error) {
                console.error('Order search error:', error);
                showNotification('æ¤œç´¢ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ', 'error');
            }
        }
        
        function searchInventory() {
            try {
                showNotification('åœ¨åº«æ¤œç´¢ã‚’å®Ÿè¡Œã—ã¾ã—ãŸã€‚', 'success');
            } catch (error) {
                console.error('Inventory search error:', error);
                showNotification('åœ¨åº«æ¤œç´¢ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ', 'error');
            }
        }
        
        // é€šçŸ¥è¡¨ç¤º
        function showNotification(message, type) {
            try {
                const notification = document.getElementById('notification');
                notification.textContent = message;
                notification.className = `notification ${type}`;
                notification.style.display = 'block';
                
                setTimeout(() => {
                    notification.style.display = 'none';
                }, 5000);
            } catch (error) {
                console.error('Notification error:', error);
            }
        }
        
        // æœ€çµ‚æ›´æ–°æ™‚åˆ»ã®æ›´æ–°
        function updateLastUpdate() {
            try {
                document.getElementById('lastUpdate').textContent = new Date().toLocaleString('ja-JP');
            } catch (error) {
                console.error('Last update error:', error);
            }
        }
        
        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            try {
                updateLastUpdate();
                setInterval(updateLastUpdate, 60000); // 1åˆ†ã”ã¨ã«æ›´æ–°
                
                // ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚é–“è¨­å®š
                document.getElementById('deployTime').textContent = new Date().toLocaleString('ja-JP');
                
                // ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—å¯¾å¿œ
                const uploadArea = document.getElementById('fileUploadArea');
                
                uploadArea.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    uploadArea.classList.add('dragover');
                });
                
                uploadArea.addEventListener('dragleave', function(e) {
                    e.preventDefault();
                    uploadArea.classList.remove('dragover');
                });
                
                uploadArea.addEventListener('drop', function(e) {
                    e.preventDefault();
                    uploadArea.classList.remove('dragover');
                    
                    const files = e.dataTransfer.files;
                    if (files.length > 0) {
                        document.getElementById('faxFile').files = files;
                        handleFileUpload({ target: { files: files } });
                    }
                });
                
                showNotification('ã‚·ã‚¹ãƒ†ãƒ ãŒæ­£å¸¸ã«èµ·å‹•ã—ã¾ã—ãŸ', 'success');
            } catch (error) {
                console.error('Initialization error:', error);
                showNotification('ã‚·ã‚¹ãƒ†ãƒ ã®åˆæœŸåŒ–ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ', 'error');
            }
        });
    </script>
</body>
</html>